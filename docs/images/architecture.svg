<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="920" height="380" viewBox="0 0 920 380">
  <style>
    .box { fill:#ffffff; stroke:#2b2b2b; stroke-width:2; rx:10; ry:10; }
    .title { font-family: Arial, Helvetica, sans-serif; font-size:16px; fill:#111; dominant-baseline: middle; text-anchor: middle; }
    .arrow { stroke:#444; stroke-width:2; marker-end: url(#arrowhead); }
    .note { font-family: Arial, Helvetica, sans-serif; font-size:12px; fill:#555; }
    .group { fill:#f7f7f7; stroke:#cccccc; stroke-width:1; rx:12; ry:12; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444" />
    </marker>
  </defs>

  <!-- User -->
  <rect class="box" x="30" y="40" width="140" height="60" />
  <text class="title" x="100" y="70">Usu√°rio</text>

  <!-- Agent Group -->
  <rect class="group" x="220" y="20" width="460" height="340" />
  <text class="note" x="450" y="38" text-anchor="middle">Agente (Python)</text>

  <rect class="box" x="240" y="70" width="170" height="60" />
  <text class="title" x="325" y="100">CLI do Agente</text>

  <rect class="box" x="240" y="160" width="170" height="60" />
  <text class="title" x="325" y="190">Prompt Builder</text>

  <rect class="box" x="240" y="250" width="170" height="60" />
  <text class="title" x="325" y="280">SQL Guard</text>

  <rect class="box" x="440" y="160" width="220" height="60" />
  <text class="title" x="550" y="190">Enricher + NLG</text>

  <!-- LLM -->
  <rect class="box" x="720" y="160" width="160" height="60" />
  <text class="title" x="800" y="190">LLM (Gemini)</text>

  <!-- DB -->
  <rect class="box" x="720" y="260" width="160" height="60" />
  <text class="title" x="800" y="290">DuckDB</text>
  <rect class="box" x="720" y="330" width="160" height="36" />
  <text class="title" x="800" y="348">Parquet (food)</text>
  <line class="arrow" x1="800" y1="330" x2="800" y2="320" />

  <!-- Arrows -->
  <line class="arrow" x1="170" y1="70" x2="240" y2="100" />
  <line class="arrow" x1="325" y1="130" x2="325" y2="160" />
  <line class="arrow" x1="410" y1="190" x2="440" y2="190" />
  <line class="arrow" x1="660" y1="190" x2="720" y2="190" />
  <line class="arrow" x1="720" y1="290" x2="660" y2="290" marker-end="url(#arrowhead)" />
  <line class="arrow" x1="325" y1="220" x2="325" y2="250" />
  <line class="arrow" x1="410" y1="280" x2="720" y2="280" />
  <line class="arrow" x1="660" y1="190" x2="720" y2="260" />

  <!-- Labels -->
  <text class="note" x="450" y="230" text-anchor="middle">Valida SELECT + LIMIT</text>
  <text class="note" x="450" y="130" text-anchor="middle">Schema + Few-shot</text>
  <text class="note" x="550" y="230" text-anchor="middle">Join por code e resumo</text>

</svg>

